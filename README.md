# Все началось с простого приложения SimDuck #
Джо работает на компанию, выпустившую чрезвычайно успешеный имитатор утиного пруда. В этой игре представлен пруд, в котором плавают и крякают утки разных видов. Проектировщики системы воспользовались стандартным приемом ООП и определили суперкласс Duck, на основе которого объявляются типы конкретных видов уток.

![kartinka](https://d.radikal.ru/d22/1909/76/ec1c071c29ed.jpg)

За последний год компания испытывала жестокое давление со стороны конкурентов. Через неделю долгих выездных совещаний за игрой в гольф руководство компании решило, что пришло время серьезных изменений. Нужно сделать что-то *действительно* впечатлящее, что можно было бы продемонстрировать на предстоящем собрании акционеров *на следующей неделе.*

# Теперь утки будут ЛЕТАТЬ #
Начальство решило, что летающее утки - именнота "изюминка", которая сокрушит всех конкуретнов. И конечно, начальство Джо пообещало, что Джо легко соорудит что-нибудь этакое в течение недели "В конце концов, он ОПП-программист... *"Какие могут быть трудности?"*

![kartinka](https://d.radikal.ru/d03/1909/c7/57a86cbe385f.jpg)

Но тут все пошло напрекосяк...
Что произошло?
Джо не сообразил, что летать должны не все субклассы Duck. Новое поведение, добавленное в суперкласс Duck, оказалось неподходящим для некоторых субклассов. И теперь в программе начало летать неодушевленные обхекты.

*Локальное изменение кода привело к нелокальному побочному эффекту (летающие резиновые утки!)*

![kartinka](https://c.radikal.ru/c41/1909/28/a15a4d6af6da.jpg)
![kartinka](https://d.radikal.ru/d09/1909/42/ba96ec4e3ec4.jpg)

# Как насчет интерфейса? #
Джо понял, что наследоваине не решит проблему - он только что получил службеную записку, в которой говорится, что продукт должен обновляться каждые 6 месяцев (причем начальство еще не знает, как именно). Джо знает, что спецификация будет изменяться, а ему придется искать (и, возможно, переопределять) методы fly() и quack() для каждого нового субкласса, включаемого и программу... *вечно.*
Итак, ему нужен более простой способ заставить летать или крякать только *некоторых* (но не всех!) уток.

![kartinka](https://a.radikal.ru/a36/1909/d9/6321f5ae6a56.jpg)

# А что ВЫ думаете об этой архитектуре? #
